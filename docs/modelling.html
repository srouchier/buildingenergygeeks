<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Building energy statistical modelling | Building energy statistical modelling</title>
  <meta name="description" content="Handbook of statistical learning for building energy performance." />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Building energy statistical modelling | Building energy statistical modelling" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Handbook of statistical learning for building energy performance." />
  <meta name="github-repo" content="srouchier/buildingenergygeeks" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Building energy statistical modelling | Building energy statistical modelling" />
  
  <meta name="twitter:description" content="Handbook of statistical learning for building energy performance." />
  

<meta name="author" content="Simon Rouchier" />


<meta name="date" content="2022-07-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="scope.html"/>
<link rel="next" href="workflow.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./index.html">Building energy statistical modelling</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Home page</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#motivation"><i class="fa fa-check"></i>Motivation</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#content-of-the-book"><i class="fa fa-check"></i>Content of the book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#programming-languages"><i class="fa fa-check"></i>Programming languages</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about"><i class="fa fa-check"></i>About</a></li>
</ul></li>
<li class="part"><span><b>I Theory and workflow</b></span></li>
<li class="chapter" data-level="1" data-path="scope.html"><a href="scope.html"><i class="fa fa-check"></i><b>1</b> Background on data analysis</a>
<ul>
<li class="chapter" data-level="1.1" data-path="scope.html"><a href="scope.html#the-energy-savings-potential-of-buildings"><i class="fa fa-check"></i><b>1.1</b> The energy savings potential of buildings</a></li>
<li class="chapter" data-level="1.2" data-path="scope.html"><a href="scope.html#from-data-to-energy-savings"><i class="fa fa-check"></i><b>1.2</b> From data to energy savings</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="scope.html"><a href="scope.html#formalisation-of-the-system"><i class="fa fa-check"></i><b>1.2.1</b> Formalisation of the system</a></li>
<li class="chapter" data-level="1.2.2" data-path="scope.html"><a href="scope.html#some-uses-of-data"><i class="fa fa-check"></i><b>1.2.2</b> Some uses of data</a></li>
<li class="chapter" data-level="1.2.3" data-path="scope.html"><a href="scope.html#model-calibration-as-the-key-to-data-analysis"><i class="fa fa-check"></i><b>1.2.3</b> Model calibration as the key to data analysis</a></li>
<li class="chapter" data-level="1.2.4" data-path="scope.html"><a href="scope.html#inverseproblems"><i class="fa fa-check"></i><b>1.2.4</b> The difficulty of inverse problems</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="scope.html"><a href="scope.html#categories"><i class="fa fa-check"></i><b>1.3</b> Categories of data-driven modelling approaches</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="scope.html"><a href="scope.html#either-physical-interpretability-or-prediction-accuracy"><i class="fa fa-check"></i><b>1.3.1</b> Either physical interpretability or prediction accuracy</a></li>
<li class="chapter" data-level="1.3.2" data-path="scope.html"><a href="scope.html#calibrated-simulation-white-box"><i class="fa fa-check"></i><b>1.3.2</b> Calibrated simulation (white-box)</a></li>
<li class="chapter" data-level="1.3.3" data-path="scope.html"><a href="scope.html#machine-learning-black-box"><i class="fa fa-check"></i><b>1.3.3</b> Machine learning (black-box)</a></li>
<li class="chapter" data-level="1.3.4" data-path="scope.html"><a href="scope.html#statistical-modelling-and-inference-grey-box"><i class="fa fa-check"></i><b>1.3.4</b> Statistical modelling and inference (grey-box)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="modelling.html"><a href="modelling.html"><i class="fa fa-check"></i><b>2</b> Building energy statistical modelling</a>
<ul>
<li class="chapter" data-level="2.1" data-path="modelling.html"><a href="modelling.html#modelling1"><i class="fa fa-check"></i><b>2.1</b> Building physics in a nutshell</a></li>
<li class="chapter" data-level="2.2" data-path="modelling.html"><a href="modelling.html#modelling2"><i class="fa fa-check"></i><b>2.2</b> Measurement and modelling boundaries</a></li>
<li class="chapter" data-level="2.3" data-path="modelling.html"><a href="modelling.html#modelling3"><i class="fa fa-check"></i><b>2.3</b> Categories of statistical models</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="workflow.html"><a href="workflow.html"><i class="fa fa-check"></i><b>3</b> A Bayesian data analysis workflow</a>
<ul>
<li class="chapter" data-level="3.1" data-path="workflow.html"><a href="workflow.html#bayesian"><i class="fa fa-check"></i><b>3.1</b> Bayesian inference summarised</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="workflow.html"><a href="workflow.html#motivation-for-a-bayesian-approach"><i class="fa fa-check"></i><b>3.1.1</b> Motivation for a Bayesian approach</a></li>
<li class="chapter" data-level="3.1.2" data-path="workflow.html"><a href="workflow.html#general-bayesian-principles"><i class="fa fa-check"></i><b>3.1.2</b> General Bayesian principles</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="workflow.html"><a href="workflow.html#workflow-for-one-model"><i class="fa fa-check"></i><b>3.2</b> Workflow for one model</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="workflow.html"><a href="workflow.html#overview"><i class="fa fa-check"></i><b>3.2.1</b> Overview</a></li>
<li class="chapter" data-level="3.2.2" data-path="workflow.html"><a href="workflow.html#step-1-model-specification"><i class="fa fa-check"></i><b>3.2.2</b> Step 1: model specification</a></li>
<li class="chapter" data-level="3.2.3" data-path="workflow.html"><a href="workflow.html#priorpredictivechecking"><i class="fa fa-check"></i><b>3.2.3</b> Prior predictive checking</a></li>
<li class="chapter" data-level="3.2.4" data-path="workflow.html"><a href="workflow.html#computation"><i class="fa fa-check"></i><b>3.2.4</b> Step 2: computation with Markov Chain Monte Carlo</a></li>
<li class="chapter" data-level="3.2.5" data-path="workflow.html"><a href="workflow.html#modelvalidation"><i class="fa fa-check"></i><b>3.2.5</b> Step 3: model checking and validation</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="workflow.html"><a href="workflow.html#modelselection"><i class="fa fa-check"></i><b>3.3</b> Model assessment and selection</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="workflow.html"><a href="workflow.html#model-selection-workflows"><i class="fa fa-check"></i><b>3.3.1</b> Model selection workflows</a></li>
<li class="chapter" data-level="3.3.2" data-path="workflow.html"><a href="workflow.html#sensitivity-analysis"><i class="fa fa-check"></i><b>3.3.2</b> Sensitivity analysis</a></li>
<li class="chapter" data-level="3.3.3" data-path="workflow.html"><a href="workflow.html#structural-identifiability"><i class="fa fa-check"></i><b>3.3.3</b> Structural identifiability</a></li>
<li class="chapter" data-level="3.3.4" data-path="workflow.html"><a href="workflow.html#inferencediagnostics"><i class="fa fa-check"></i><b>3.3.4</b> Practical identifiability</a></li>
<li class="chapter" data-level="3.3.5" data-path="workflow.html"><a href="workflow.html#modelcomparison"><i class="fa fa-check"></i><b>3.3.5</b> Model comparison criteria</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Temporally independent data</b></span></li>
<li class="chapter" data-level="4" data-path="ordinary-linear-regression.html"><a href="ordinary-linear-regression.html"><i class="fa fa-check"></i><b>4</b> Ordinary linear regression</a>
<ul>
<li class="chapter" data-level="4.1" data-path="ordinary-linear-regression.html"><a href="ordinary-linear-regression.html#introduction-to-olr"><i class="fa fa-check"></i><b>4.1</b> Introduction to OLR</a></li>
<li class="chapter" data-level="4.2" data-path="ordinary-linear-regression.html"><a href="ordinary-linear-regression.html#tutorial-olr-with-r"><i class="fa fa-check"></i><b>4.2</b> Tutorial: OLR with R</a></li>
<li class="chapter" data-level="4.3" data-path="ordinary-linear-regression.html"><a href="ordinary-linear-regression.html#simple-linear-regression-with-r"><i class="fa fa-check"></i><b>4.3</b> Simple linear regression with R</a></li>
<li class="chapter" data-level="4.4" data-path="ordinary-linear-regression.html"><a href="ordinary-linear-regression.html#bayesian-regression-with-stan"><i class="fa fa-check"></i><b>4.4</b> Bayesian regression with Stan</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="bayesianmv.html"><a href="bayesianmv.html"><i class="fa fa-check"></i><b>5</b> Bayesian M&amp;V</a>
<ul>
<li class="chapter" data-level="5.1" data-path="bayesianmv.html"><a href="bayesianmv.html#a-bayesian-workflow-for-mv"><i class="fa fa-check"></i><b>5.1</b> A Bayesian workflow for M&amp;V</a></li>
<li class="chapter" data-level="5.2" data-path="bayesianmv.html"><a href="bayesianmv.html#change-point-models"><i class="fa fa-check"></i><b>5.2</b> Change-point models</a></li>
<li class="chapter" data-level="5.3" data-path="bayesianmv.html"><a href="bayesianmv.html#ipmvp-option-c-example-rstan"><i class="fa fa-check"></i><b>5.3</b> IPMVP option C example (Rstan)</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="bayesianmv.html"><a href="bayesianmv.html#loading-and-displaying-the-data"><i class="fa fa-check"></i><b>5.3.1</b> Loading and displaying the data</a></li>
<li class="chapter" data-level="5.3.2" data-path="bayesianmv.html"><a href="bayesianmv.html#daily-averaged-data"><i class="fa fa-check"></i><b>5.3.2</b> Daily averaged data</a></li>
<li class="chapter" data-level="5.3.3" data-path="bayesianmv.html"><a href="bayesianmv.html#model-definition"><i class="fa fa-check"></i><b>5.3.3</b> Model definition</a></li>
<li class="chapter" data-level="5.3.4" data-path="bayesianmv.html"><a href="bayesianmv.html#model-specification-with-stan"><i class="fa fa-check"></i><b>5.3.4</b> Model specification with Stan</a></li>
<li class="chapter" data-level="5.3.5" data-path="bayesianmv.html"><a href="bayesianmv.html#model-fitting"><i class="fa fa-check"></i><b>5.3.5</b> Model fitting</a></li>
<li class="chapter" data-level="5.3.6" data-path="bayesianmv.html"><a href="bayesianmv.html#validation-and-results"><i class="fa fa-check"></i><b>5.3.6</b> Validation and results</a></li>
<li class="chapter" data-level="5.3.7" data-path="bayesianmv.html"><a href="bayesianmv.html#residuals"><i class="fa fa-check"></i><b>5.3.7</b> Residuals</a></li>
<li class="chapter" data-level="5.3.8" data-path="bayesianmv.html"><a href="bayesianmv.html#savings"><i class="fa fa-check"></i><b>5.3.8</b> Savings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="finite-mixture-models.html"><a href="finite-mixture-models.html"><i class="fa fa-check"></i><b>6</b> Finite mixture models</a>
<ul>
<li class="chapter" data-level="6.1" data-path="finite-mixture-models.html"><a href="finite-mixture-models.html#principle"><i class="fa fa-check"></i><b>6.1</b> Principle</a></li>
<li class="chapter" data-level="6.2" data-path="finite-mixture-models.html"><a href="finite-mixture-models.html#tutorial-rstan"><i class="fa fa-check"></i><b>6.2</b> Tutorial (Rstan)</a></li>
</ul></li>
<li class="part"><span><b>III Time-series modelling</b></span></li>
<li class="chapter" data-level="7" data-path="armax.html"><a href="armax.html"><i class="fa fa-check"></i><b>7</b> Autoregressive models</a>
<ul>
<li class="chapter" data-level="7.1" data-path="armax.html"><a href="armax.html#principle-of-armax-models"><i class="fa fa-check"></i><b>7.1</b> Principle of ARMAX models</a></li>
<li class="chapter" data-level="7.2" data-path="armax.html"><a href="armax.html#tutorial-rstan-1"><i class="fa fa-check"></i><b>7.2</b> Tutorial (Rstan)</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="armax.html"><a href="armax.html#data-the-ashrae-machine-learning-competition"><i class="fa fa-check"></i><b>7.2.1</b> Data: the ASHRAE machine learning competition</a></li>
<li class="chapter" data-level="7.2.2" data-path="armax.html"><a href="armax.html#a-simple-arx-model"><i class="fa fa-check"></i><b>7.2.2</b> A simple ARX model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="hmm.html"><a href="hmm.html"><i class="fa fa-check"></i><b>8</b> Hidden Markov models</a>
<ul>
<li class="chapter" data-level="8.1" data-path="hmm.html"><a href="hmm.html#principles"><i class="fa fa-check"></i><b>8.1</b> Principles</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="hmm.html"><a href="hmm.html#the-forward-algorithm"><i class="fa fa-check"></i><b>8.1.1</b> The forward algorithm</a></li>
<li class="chapter" data-level="8.1.2" data-path="hmm.html"><a href="hmm.html#the-viterbi-algorithm"><i class="fa fa-check"></i><b>8.1.2</b> The Viterbi algorithm</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="hmm.html"><a href="hmm.html#tutorial-python"><i class="fa fa-check"></i><b>8.2</b> Tutorial (Python)</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="composite-time-series-models.html"><a href="composite-time-series-models.html"><i class="fa fa-check"></i><b>9</b> Composite time series models</a>
<ul>
<li class="chapter" data-level="9.1" data-path="composite-time-series-models.html"><a href="composite-time-series-models.html#markov-switching-models"><i class="fa fa-check"></i><b>9.1</b> Markov switching models</a></li>
<li class="chapter" data-level="9.2" data-path="composite-time-series-models.html"><a href="composite-time-series-models.html#hidden-markov-energy-signature"><i class="fa fa-check"></i><b>9.2</b> Hidden Markov energy signature</a></li>
</ul></li>
<li class="part"><span><b>IV State-space models</b></span></li>
<li class="chapter" data-level="10" data-path="ssmprinciple.html"><a href="ssmprinciple.html"><i class="fa fa-check"></i><b>10</b> Principle of SSMs</a>
<ul>
<li class="chapter" data-level="10.1" data-path="ssmprinciple.html"><a href="ssmprinciple.html#description"><i class="fa fa-check"></i><b>10.1</b> Description</a></li>
<li class="chapter" data-level="10.2" data-path="ssmprinciple.html"><a href="ssmprinciple.html#linearssm"><i class="fa fa-check"></i><b>10.2</b> Linear state-space models</a></li>
<li class="chapter" data-level="10.3" data-path="ssmprinciple.html"><a href="ssmprinciple.html#kalmanfilter"><i class="fa fa-check"></i><b>10.3</b> The Kalman filter</a></li>
<li class="chapter" data-level="10.4" data-path="ssmprinciple.html"><a href="ssmprinciple.html#non-linear-state-space-models"><i class="fa fa-check"></i><b>10.4</b> Non-linear state-space models</a></li>
<li class="chapter" data-level="10.5" data-path="ssmprinciple.html"><a href="ssmprinciple.html#switching-state-space-models"><i class="fa fa-check"></i><b>10.5</b> Switching state-space models</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="a-simple-rc-model-python.html"><a href="a-simple-rc-model-python.html"><i class="fa fa-check"></i><b>11</b> A simple RC model (Python)</a>
<ul>
<li class="chapter" data-level="11.1" data-path="a-simple-rc-model-python.html"><a href="a-simple-rc-model-python.html#case-study"><i class="fa fa-check"></i><b>11.1</b> Case study</a></li>
<li class="chapter" data-level="11.2" data-path="a-simple-rc-model-python.html"><a href="a-simple-rc-model-python.html#modelling-1"><i class="fa fa-check"></i><b>11.2</b> Modelling</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="a-simple-rc-model-python.html"><a href="a-simple-rc-model-python.html#rc-model"><i class="fa fa-check"></i><b>11.2.1</b> RC model</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="a-simple-rc-model-python.html"><a href="a-simple-rc-model-python.html#deterministic-formulation"><i class="fa fa-check"></i><b>11.3</b> Deterministic formulation</a></li>
<li class="chapter" data-level="11.4" data-path="a-simple-rc-model-python.html"><a href="a-simple-rc-model-python.html#stochastic-formulation"><i class="fa fa-check"></i><b>11.4</b> Stochastic formulation</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="a-simple-rc-model-python.html"><a href="a-simple-rc-model-python.html#specification"><i class="fa fa-check"></i><b>11.4.1</b> Specification</a></li>
<li class="chapter" data-level="11.4.2" data-path="a-simple-rc-model-python.html"><a href="a-simple-rc-model-python.html#training"><i class="fa fa-check"></i><b>11.4.2</b> Training</a></li>
<li class="chapter" data-level="11.4.3" data-path="a-simple-rc-model-python.html"><a href="a-simple-rc-model-python.html#diagnostics-and-residuals-analysis"><i class="fa fa-check"></i><b>11.4.3</b> Diagnostics and residuals analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="the-pysip-library-python.html"><a href="the-pysip-library-python.html"><i class="fa fa-check"></i><b>12</b> The pySIP library (Python)</a></li>
<li class="part"><span><b>V Gaussian Process models</b></span></li>
<li class="chapter" data-level="13" data-path="gaussian-process-models.html"><a href="gaussian-process-models.html"><i class="fa fa-check"></i><b>13</b> Gaussian Process models</a>
<ul>
<li class="chapter" data-level="13.1" data-path="gaussian-process-models.html"><a href="gaussian-process-models.html#principle-1"><i class="fa fa-check"></i><b>13.1</b> Principle</a></li>
<li class="chapter" data-level="13.2" data-path="gaussian-process-models.html"><a href="gaussian-process-models.html#gaussian-processes-for-prediction-of-energy-use"><i class="fa fa-check"></i><b>13.2</b> Gaussian Processes for prediction of energy use</a></li>
<li class="chapter" data-level="13.3" data-path="gaussian-process-models.html"><a href="gaussian-process-models.html#gaussian-processes-for-time-series-data"><i class="fa fa-check"></i><b>13.3</b> Gaussian Processes for time series data</a></li>
<li class="chapter" data-level="13.4" data-path="gaussian-process-models.html"><a href="gaussian-process-models.html#latent-force-models"><i class="fa fa-check"></i><b>13.4</b> Latent Force Models</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Building energy statistical modelling</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="modelling" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Building energy statistical modelling<a href="modelling.html#modelling" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>The positioning of this book is statistical modelling and inference, applied to building energy performance assessment. In the previous chapter, this approach was presented as a compromise between physical interpretability of parameter estimates, and flexibility of predictive models.</p>
<p>The first step into this approach, before taking data into consideration, is the probabilistic modelling of the energy balance of buildings. Rather than using Building Energy Simulation (BES) software, our approach is generally to start from simple models and gradually increase complexity if required. This means writing each equation individually, and formulating uncertainty into the probabilistic framework.</p>
<div id="modelling1" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Building physics in a nutshell<a href="modelling.html#modelling1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>BES decomposes a building into separate thermal zones, each of which is assumed to have a uniform air temperature. A single-family house may be split into one or two zones, while larger housings and office buildings have more, usually denoted by their orientation and usage. The temporal evolution of temperature, humidity and other variables of comfort or indoor air quality, are calculated in each zone as consequences of: influence of the weather; exchange between zones; HVAC settings; occupancy. BES software can reach quite a high level of detail when modelling the phenomena that influence these indoor variables: long-wave radiative heat exchange between all walls; position of the sunspot; influence of furniture on indoor humidity; CFD modelling of air flow…</p>
<p>Since we will give our building energy models a statistical formulation, these models should stay as simple as possible, while staying close to the main phenomena that govern the heat and energy balance of an observed building. A schematic outlook of heat gains and losses in a heated space is shown here, which we will summarise by three main equations (Fig. <a href="modelling.html#fig:sankey">2.1</a> below assumes the example of a heated building in which gas is the main fuel used by the heating appliances. A similar reasoning can be done in other conditions, such as an air conditioned building in summer).</p>
<div class="figure"><span style="display:block;" id="fig:sankey"></span>
<img src="figures/201_sankey.png" alt="Decomposition of heat gains and losses in a heated zone" width="90%" />
<p class="caption">
Figure 2.1: Decomposition of heat gains and losses in a heated zone
</p>
</div>
<p>The first equation of our simplified building energy modelling framework is the temporal evolution of the indoor temperature in a thermal zone. It is shown on the right side of Fig. <a href="modelling.html#fig:sankey">2.1</a> by the imbalance between all heat gains (<span class="math inline">\(\Phi_\mathit{in}\)</span>, red lines) and all heat losses (<span class="math inline">\(\Phi_\mathit{out}\)</span>, blue lines).</p>
<p><span class="math display" id="eq:bilan1">\[\begin{equation}
  C \frac{\partial T}{\partial t} = \Phi_\mathit{in} - \Phi_\mathit{out}
    \tag{2.1}
\end{equation}\]</span></p>
<p>Where <span class="math inline">\(C\)</span> is an effective heat capacity of the thermal zone.</p>
<p>The second equation is the breakdown of <span class="math inline">\(\Phi_\mathit{in}\)</span>, which includes all heat gains of the room other than transmission and ventilation exchanges. This part is shown by red lines on Fig. <span class="math inline">\(\ref{fig:sankey}\)</span> and will depend on the specificities of each building. A common list of usual heat inputs can be the following.
<span class="math display" id="eq:bilan2">\[\begin{equation}
    \Phi_\mathit{in} = \Phi_h + \Phi_\mathit{sol} + \Phi_\mathit{int}
    \tag{2.2}
\end{equation}\]</span></p>
<ul>
<li><span class="math inline">\(\Phi_h\)</span>: the energy consumption dedicated to space heating. This value is usually not directly measured, but is only a part of a meter reading (e.g. gas) which includes production and distribution losses, and often also cover the production of domestic hot water (DHW).</li>
<li><span class="math inline">\(\Phi_\mathit{sol}\)</span>: the solar heat gains. They are the outcome of direct and diffuse solar radiation, which are measured outside. The fraction of the total outdoor solar irradiance which is converted into indoor heat input depends on the orientation of the room relative to the position of the sun, the shadings, the type of glazing, etc.</li>
<li><span class="math inline">\(\Phi_\mathit{int}\)</span>: the sum of other internal heat gains, due to the presence of inhabitants, water heat gains, electrical appliances, lighting, etc. This variable is difficult to measure but tends to show a daily or weekly pattern, which makes it predictable to some extent.</li>
</ul>
<p>The third main equation is the breakdown of <span class="math inline">\(\Phi_\mathit{out}\)</span>, which includes all heat exchange between the zone under consideration and its surroundings:
<span class="math display" id="eq:bilan3">\[\begin{equation}
  \Phi_\mathit{out} = H_\mathit{tr}^e \left(T-T_e\right)
          + H_\mathit{tr}^s \left(T-T_s\right)
          + \sum_j H_\mathit{tr}^\mathit{adj,j} \left(T-T_\mathit{adj,j}\right)
          + \Phi_\mathit{inf} + \Phi_v
\tag{2.3}
\end{equation}\]</span></p>
<ul>
<li>The first term <span class="math inline">\(H_\mathit{tr}^e \left(T_i-T_e\right)\)</span> denotes heat loss by direct transmission from the heated room at temperature <span class="math inline">\(T\)</span> to the outside at temperature <span class="math inline">\(T_e\)</span>. The <span class="math inline">\(H_\mathit{tr}^e\)</span> coefficient includes the heat transmissivity of opaque walls, glazing and thermal bridges.</li>
<li>The second term <span class="math inline">\(H_\mathit{tr}^g \left(T_i-T_g\right)\)</span> denotes heat loss towards the ground at temperature <span class="math inline">\(T_g\)</span>.</li>
<li>The third term encompasses heat exchange with all adjacent rooms. This mainly concerns unheated spaces, which may have a significant temperature difference with the thermal zone under consideration.</li>
<li><span class="math inline">\(\Phi_\mathit{inf}\)</span> et <span class="math inline">\(\Phi_\mathit{ven}\)</span> respectively denote heat loss from air infiltration or mechanical ventilation.</li>
</ul>
<p>These terms are written here in the direction of heat <em>leaving</em> the room, hence the name of the variable <span class="math inline">\(\Phi_\mathit{out}\)</span>. This is of course just a notation: if the outdoor air temperature or an adjacent room temperature are higher than the zone’s temperature <span class="math inline">\(T\)</span>, some of these terms may very well switch signs, implying that heat is entering the zone.</p>
<p>These three first equations <a href="modelling.html#eq:bilan1">(2.1)</a> to <a href="modelling.html#eq:bilan3">(2.3)</a> will be the basis for all our modelling of heat transfer. Fig. <a href="modelling.html#fig:sankey">2.1</a> also illustrates some challenges of statistical inference for building energy performance assessment.</p>
<p>An important question is the difficulty to directly observe the terms of Eq. <a href="modelling.html#eq:bilan2">(2.2)</a> that influence the indoor heat balance. On the one hand, some hypotheses are required to formulate the solar heat gains <span class="math inline">\(\Phi_\mathit{sol}\)</span> from outdoor measurements of solar irradiance. On the other hand, the internal heat gains <span class="math inline">\(\Phi_\mathit{int}\)</span> of occupied buildings are the sum of influences that are hard to measure. Even the heating power <span class="math inline">\(\Phi_h\)</span> is usually not directly available. Still in the example of a building equipped with a hydronic heating system fueled by gas, a typical situation is having a common meter for all of gas consumption.
<span class="math display" id="eq:bilan4">\[\begin{equation}
e_\mathit{gas}(t) = e_\mathit{dhw}(t) + e_\mathit{sh}(t) +  e_\mathit{loss}(t)
\tag{2.4}
\end{equation}\]</span>
The consumption intended for domestic hot water production <span class="math inline">\(e_\mathit{dhw}\)</span> and space heating <span class="math inline">\(e_\mathit{sh}\)</span> either need to be metered separately, or to be disaggregated from a single meter <span class="math inline">\(e_\mathit{gas}\)</span>. Then, the energy consumption for space heating <span class="math inline">\(e_\mathit{sh}\)</span> translates to the heating power <span class="math inline">\(\Phi_h\)</span> (see Eq. <a href="modelling.html#eq:bilan2">(2.2)</a>) through assumptions regarding the heating system. If the target of a study is the performance assessment of the buiding envelope from measurements of heating power and temperatures, then different strategies will be required if <span class="math inline">\(\Phi_h\)</span> is somehow directly measured, than if only a general meter for <span class="math inline">\(e_\mathit{gas}\)</span> is available.</p>
<p>The proper formulation of Eq. <a href="modelling.html#eq:bilan2">(2.2)</a> therefore requires assumptions to translate outdoor solar irradiance measurements into <span class="math inline">\(\Phi_\mathit{sol}\)</span>, and assumptions to translate energy meter readings into <span class="math inline">\(\Phi_h\)</span>.</p>
<p>The second challenge we mention here is the prediction of electricity consumption, and eventually its impact on the indoor heat balance. Supposing that hourly or daily measurements of electricity consumption are available, one can be interested in either: identifying repetitive patterns which makes this consumption predictable for purposes of energy distribution management; estimating the fraction of this energy use that contributes to indoor heat gains <span class="math inline">\(\Phi_\mathit{int}\)</span>. The former question is closely related to the detection and data-driven modelling of occupancy, which is a ML problem that may be based on a variety of sensors and methods. The second question is even more challenging, as it requires not only an estimation of the use of each appliance, but also of their heat loss percentage.</p>
<p>The third challenge displayed on Fig. <a href="modelling.html#fig:sankey">2.1</a> is the decomposition of the heat loss of the envelope. The first three terms on the right side of Eq.<a href="modelling.html#eq:bilan3">(2.3)</a> may be aggregated in order to define two global indicators of the heat performance of the envelope: the total Heat Transfer Coefficient (HTC) and the transmission coefficient <span class="math inline">\(H_\mathit{tr}\)</span>.
<span class="math display" id="eq:bilan6">\[\begin{align}
\Phi_\mathit{out} &amp; = \underbrace{H_\mathit{tr} \left(T-T_e\right) + \Phi_\mathit{inf}}_{\mathrm{HTC} \left(T-T_e\right)} + \Phi_v \\
\mathrm{HTC} &amp; = H_\mathit{tr} + \Phi_\mathit{inf}/\left(T-T_e\right)
\tag{2.5}
\end{align}\]</span>
The <span class="math inline">\(H_\mathit{tr}\)</span> coefficient describes all heat transmission through the envelope, and the HTC also includes the effect of air infiltration. Controlled mechanical ventilation is not included in these coefficients, but may as well be considered as part of the heat gains in Eq. <a href="modelling.html#eq:bilan2">(2.2)</a>. One of the essential questions of this book will be the characterisation of HTC and <span class="math inline">\(H_\mathit{tr}\)</span>, using short-term or long-term measurements that may be recorded without disturbing the normal operation of the building.</p>
</div>
<div id="modelling2" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Measurement and modelling boundaries<a href="modelling.html#modelling2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The first step into setting up a probability model is the choice of its boundaries, i.e. which of the measured data is the <em>dependent</em> variable, and which are the <em>explanatory</em> variables.</p>
<ul>
<li>The dependent variable <span class="math inline">\(y\)</span>, or model output, is a variable that we wish for a fitted model to be able to predict (this book does not cover situations with several dependent variables in a single model).</li>
<li>The explanatory variables, or independent variables, are the model inputs by which we try to explain the evolutions of the dependent variable. Explanatory variables are denoted <span class="math inline">\(x\)</span> in most regression models, or <span class="math inline">\(u\)</span> in more complex hierarchical models where <span class="math inline">\(x\)</span> may denote a latent variable instead.</li>
<li>Some models have <em>latent</em> variables, which are unobserved and affect the dependent variable.</li>
</ul>
<p>The IPMVP defines measurement boundaries as “notional boundaries drawn around equipment, systems or facilities to segregate those which are relevant to saving determination from those which are not. All Energy Consumption and Demand of equipment or systems within the boundary must be measured or estimated. […] Any energy effects occurring beyond the selected measurement boundary are called interactive effects. The magnitude of any interactive effects needs to be estimated or evaluated to determine savings associated with the ECMs.”</p>
<p>The same definition of boundaries work for simulations: a model must be defined so that its inputs and outputs are the measured independent and dependent variables, and all energy effects occurring within these boundaries are either fixed, or part of the list of parameters <span class="math inline">\(\theta\)</span> that will be estimated by calibration.</p>
<div class="figure"><span style="display:block;" id="fig:boundaries1"></span>
<img src="figures/202_boundaries1.png" alt="Building energy models simulate the interactions between envelope, ambiance, HVAC systems and their controls, described by a finite set of parameters. The explanatory variables are related to the two conditions mentioned earlier: weather and occupants. The dependent variables are separate energy consumptions." width="70%" />
<p class="caption">
Figure 2.2: Building energy models simulate the interactions between envelope, ambiance, HVAC systems and their controls, described by a finite set of parameters. The explanatory variables are related to the two conditions mentioned earlier: weather and occupants. The dependent variables are separate energy consumptions.
</p>
</div>
<p>Typical modelling boundaries of BES resemble Fig. <a href="modelling.html#fig:boundaries1">2.2</a>. The time-varying inputs provided by the user are weather files and occupancy profiles. Most of the time, the latter come from standard scenarios rather than measurement. Occupancy is understood by BES as a finite set of actions and influences: presence, temperature set-points, use of appliances. The model returns predictions of energy use, usually with a higher level of disaggregation (consumption of each system) than is easily available by measurement.</p>
<p>Other models can have the indoor temperature as output (Fig. <a href="modelling.html#fig:boundaries2">2.3</a>): for instance, heat transfer simulation models used for assessing the performance of the envelope, or for tuning model predictive control strategies.</p>
<div class="figure"><span style="display:block;" id="fig:boundaries2"></span>
<img src="figures/203_boundaries2.png" alt="Assessing the performance of the envelope may involve models with the indoor temperature as dependent variable. This example illustrates a problem: the boiler that produces space heating and domestic hot water can be beyond the measurement boundary, and only the global consumption is observed." width="70%" />
<p class="caption">
Figure 2.3: Assessing the performance of the envelope may involve models with the indoor temperature as dependent variable. This example illustrates a problem: the boiler that produces space heating and domestic hot water can be beyond the measurement boundary, and only the global consumption is observed.
</p>
</div>
<p>If the target of a study is to characterise some parameter <span class="math inline">\(\theta\)</span>, or evaluate the evolution of a latent variable, rather than train a predictive model, then the same dataset <span class="math inline">\(\mathcal{D}\)</span> can be mapped into input and output variables in different ways. Regardless of this choice, the principles of the above definition of measurement boundaries should be applied to modelling: any effects that are believed to influence the dependent variable should be either measured (explanatory variables), given assumed values (interactive effects), or estimated by fitting.</p>
</div>
<div id="modelling3" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Categories of statistical models<a href="modelling.html#modelling3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Once the modelling boundaries are set, the next step is choosing the model structure itself, i.e. the equations that relate dependent variables to independent variables and eventual latent variables. The next few sections will describe the different categories of models that will be implemented later in the applications, also summarized by Fig. <a href="modelling.html#fig:modeltypes">2.4</a>. Before getting to these descriptions, a summary of some notations and vocabulary they have in common might be helpful.</p>
<div class="figure"><span style="display:block;" id="fig:modeltypes"></span>
<img src="figures/204_modeltypes.png" alt="This book separates statistical models in categories according to two questions: whether the time resolution of data is high enough so that temporal dependencies should be accounted for; whether there is a direct relationship between dependent and independent variables or an indirect relationship through latent variables. Gaussian Process models will be presented separately because they can apply to most situations." width="90%" />
<p class="caption">
Figure 2.4: This book separates statistical models in categories according to two questions: whether the time resolution of data is high enough so that temporal dependencies should be accounted for; whether there is a direct relationship between dependent and independent variables or an indirect relationship through latent variables. Gaussian Process models will be presented separately because they can apply to most situations.
</p>
</div>
<p>A <strong>regression</strong> model directly relates the dependent variable with one or several explanatory variables <span class="math inline">\(x\)</span> and its parameters <span class="math inline">\(\theta\)</span>. Regression concerns dependent variables with continuous values, as opposed to classification which concerns categorical or discrete dependent variables.
<span class="math display" id="eq:modelscategories1">\[\begin{equation}
    y \sim f\left(x, \theta\right)
    \tag{2.6}
\end{equation}\]</span>
In this form, regression models assumes the independence of all elements of <span class="math inline">\(y\)</span> with each other: each measurement is unaffected by its previous value. These models are therefore to be used with low frequency or aggregated data for long-term predictions or summaries.</p>
<p>Some problems can be modelled <strong>hierarchically</strong>, with observable outcomes modeled conditionally on certain parameters <span class="math inline">\(\theta\)</span>, which themselves are given a probabilistic specification in terms of further parameters <span class="math inline">\(\phi\)</span>, known as hyperparameters.
<span class="math display" id="eq:modelscategories2">\[\begin{equation}
    \theta \sim f\left(\phi\right)
    \tag{2.7}
\end{equation}\]</span>
The hyperparameter <span class="math inline">\(\phi\)</span> can then be given a <em>hyperprior</em> distribution <span class="math inline">\(p\left(\phi\right)\)</span>. As written by (<span class="citation">Gelman et al. (<a href="#ref-gelman2013bayesian" role="doc-biblioref">2013</a>)</span>), “simple nonhierarchical models are usually inappropriate for hierarchical data: with few parameters, they generally cannot fit large datasets accurately, whereas with many parameters, they tend to overfit such data […]. In contrast, hierarchical models can have enough parameters to fit the data well, while using a population distribution to structure some dependence into the parameters, thereby avoiding problems of overfitting.” Hierarchical thinking gives flexibility to simple model structures, and will be useful to explain data from a group of buildings, or from a single building monitored over several operating conditions.</p>
<p>Data often comes at high enough frequency so that consecutive measurements of the outcome variable cannot be considered independent from each other. <strong>Time-series</strong> models offer many ways to express this dependency <span class="citation">Shumway and Stoffer (<a href="#ref-shumway2000time" role="doc-biblioref">2000</a>)</span>
<span class="math display" id="eq:modelscategories3">\[\begin{equation}
    y_t \sim f\left(y_{t-1}, y_{t-2},..., x, \theta\right)
    \tag{2.8}
\end{equation}\]</span>
This type of model is called autoregressive because of the similarity of this formulation with the regression model of Eq. <a href="modelling.html#eq:modelscategories1">(2.6)</a>: the dependent variable at time <span class="math inline">\(t\)</span> is a regression function of its previous values. The simplest autoregressive models lack explanatory variables <span class="math inline">\(x\)</span>, and only formulate the dependent variable as a regression function of its previous values. They can be used to identify trends and repetitive cycles in a single variable and predict its future values.</p>
<p>The last criterion we are considering for classifying models by categories, is the presence of <strong>latent variables</strong>. A latent variable model is a hierarchical model which relates the observed dependent variable to a set of unobservable latent variables. For each outcome <span class="math inline">\(y_n\)</span> there is a latent variable <span class="math inline">\(z_n\)</span> in <span class="math inline">\(\left\{1,...,K\right\}\)</span> with a categorical distribution parameterized by some parameter <span class="math inline">\(\lambda\)</span>.
<span class="math display" id="eq:categorical">\[\begin{align}
y_n \sim f(z_n) \\
z_n \sim \mathrm{categorical}(\lambda)
\tag{2.9}
\end{align}\]</span>
Finite mixture models can be parameterized as latent variable models, although the description we will make of them does not explicitely display latent variables. The models which will play the largest role in the next few chapters of this book are <strong>time series models with latent variables</strong>, or state-space models (SSM).
<span class="math display" id="eq:latentvariables">\[\begin{align}
    y_t \sim f\left(z_t, \theta\right) \\
    z_t \sim f\left(z_{t-1}, \theta\right)
    \tag{2.10}
\end{align}\]</span></p>
<p>An SSM is a type of Dynamic Bayesian Network (DBN)(<span class="citation">Murphy (<a href="#ref-murphy2002dynamic" role="doc-biblioref">2002</a>)</span>) where an underlying hidden state <span class="math inline">\(z_t\)</span>, generates the observations <span class="math inline">\(y_t\)</span>. The state evolves in time as a function of observable inputs. State-space models expand the classical time-series modelling approaches by allowing more complex assumptions on the evolution of the system and its uncertainty. A Hidden Markov Model (HMM) is a type of DBN whose hidden state takes discrete values. We will use the term of state-space model for models whose hidden states are continuous, although some authors call them Kalman filter models (KFM). DBNs with both categorical and continuous hidden states are called switching dynamic systems or switching Kalman filter models, and are the highest complexity we will consider in this book.</p>

</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-gelman2013bayesian" class="csl-entry">
Gelman, Andrew, John B Carlin, Hal S Stern, David B Dunson, Aki Vehtari, and Donald B Rubin. 2013. <em>Bayesian Data Analysis</em>. CRC press.
</div>
<div id="ref-murphy2002dynamic" class="csl-entry">
Murphy, Kevin Patrick. 2002. <span>“Dynamic Bayesian Networks: Representation, Inference and Learning.”</span>
</div>
<div id="ref-shumway2000time" class="csl-entry">
Shumway, Robert H, and David S Stoffer. 2000. <em>Time Series Analysis and Its Applications</em>. Vol. 3. Springer.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="scope.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="workflow.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
